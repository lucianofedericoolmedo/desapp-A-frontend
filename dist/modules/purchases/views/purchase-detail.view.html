<div>
	<div ng-include="'menu.html'"></div>
	<snap-dragger></snap-dragger>
	<snap-content snap-opt-tap-to-close="false">

		<a href="" snap-toggle="left" ng-click="menuOpen = !menuOpen">
			<span class="menutoggle">
				<i ng-hide="menuOpen" class="fa fa-bars fa-2x" ></i>
				<i ng-show="menuOpen" class="fa fa-times fa-2x" ></i>
			</span>
		</a>
		
		<div class="pull-right fr">
			<h2>Listar carritos</h2>
		</div>
		
		<br>

		<div class="jumbotron">

			<div class="container" ng-init="get()">

				<div class="page-header">
					<h3> {{"views.main.PurchaseHistory" | translate}}
					</h3>
				</div>

				<div class="row">

					<div class="col-md-6 col-xs-12">
						<p><strong>{{"views.main.Date" | translate}}:</strong> {{purchase.purchaseDate}}</p>
					</div>
					<div class="col-md-6 col-xs-12">
						<p><strong>{{"views.main.ShoppingList" | translate}}:</strong> {{purchase.usedShoppingListName}}</p>
					</div>
					<div class="col-md-6 col-xs-12">
						<p><strong>{{"views.main.Payment" | translate}} :</strong> {{purchase.paymentType}}</p>
					</div>
					<div class="col-md-6 col-xs-12">
						<p><strong>Paid at Cash Register:</strong> {{purchase.paidAtCashRegister}}</p>
					</div>

				</div>

				<hr>

				<div>
					<div class="table-responsive">
						<table class="table table-hover table-condensed">
							<thead>
								<tr>
									<th>{{"views.main.Product" | translate}}</th>
									<th>{{"views.main.Quantity" | translate}}</th>
									<th>History Price</th>
								</tr>
							</thead>
							<tbody ng-repeat="item in purchase.items">
								<tr>
									<td>{{item.product}}</td>
									<td>{{item.quantity}}</td>
									<td>{{item.historyProductPrice}}</td>
								</tr>
							</tbody>
						</table>
					</div>
					<h4 class="center">Sub total: ${{ subTotal(purchase.items) }}</h4>
					<div class="table-responsive">
						<table class="table table-hover table-condensed">
							<thead>
								<tr>
									<th>{{"views.main.Name" | translate}}</th>
									<th>{{"views.main.Product" | translate}}</th>
									<th>{{"views.main.Quantity" | translate}}</th>
									<th>{{"views.main.ProductCategory" | translate}}
									</th>
									<th>{{"views.main.discount" | translate}}</th>
								</tr>
							</thead>
							<tbody ng-repeat="discount in purchase.discounts">
								<tr>
									<td>{{discount.name}}</td>
									<td>{{discount.product}}</td>
									<td>{{discount.quantity}}</td>
									<td>{{discount.productCategory}}</td>
									<td>{{discount.totalDiscount}}</td>
								</tr>
							</tbody>
						</table>
					</div>
					<h4 class="center">
						Total {{"views.main.discount" | translate}} : ${{ totalDiscount(purchase.discounts) }}
					</h4>
					<h3 class="center">
						Total: ${{ totalPaid(purchase.items, purchase.discounts) }}
					</h3>
				</div>

				<div>
					<a href="#/purchase/history-list" class="btn btn-primary">{{"views.main.BACK " | translate }}</a>
				</div>
				
			</div>
		</div>


	</snap-content>	
</div>